# –ë–ê–†–ò–ù –ê–õ–ü - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ Backend (n8n + Google Sheets)

## üìã –°—Ç—ä–ø–∫–∞ 1: –°—ä–∑–¥–∞–π—Ç–µ Google Sheet

1. –û—Ç–∏–¥–µ—Ç–µ –Ω–∞ https://sheets.google.com
2. –°—ä–∑–¥–∞–π—Ç–µ –Ω–æ–≤–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å –∏–º–µ: **"–ë–ê–†–ò–ù –ê–õ–ü - –ë–∞–∑–∞ –¥–∞–Ω–Ω–∏"**
3. –°—ä–∑–¥–∞–π—Ç–µ —Å–ª–µ–¥–Ω–∏—Ç–µ –ª–∏—Å—Ç–æ–≤–µ (tabs):

### –õ–∏—Å—Ç "Users" (–∫–æ–ª–æ–Ω–∏ –≤ —Ä–µ–¥ 1):
| id | username | name | role | pin | balance |
|----|----------|------|------|-----|---------|
| 1 | georgi | –ì–µ–æ—Ä–≥–∏ –ü–∏—Å–∫–æ–≤ | admin | 1234 | 0 |
| 2 | ivan | –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ | technician | 2222 | 500 |
| 3 | petar | –ü–µ—Ç—ä—Ä –ü–µ—Ç—Ä–æ–≤ | technician | 3333 | 300 |

### –õ–∏—Å—Ç "Objects" (–∫–æ–ª–æ–Ω–∏ –≤ —Ä–µ–¥ 1):
| id | name | address | status | totalExpenses |
|----|------|---------|--------|---------------|
| 1 | –û–±–µ–∫—Ç –°–æ—Ñ–∏—è | —É–ª. –í–∏—Ç–æ—à–∞ 100 | active | 0 |
| 2 | –û–±–µ–∫—Ç –ü–ª–æ–≤–¥–∏–≤ | –±—É–ª. –ú–∞—Ä–∏—Ü–∞ 50 | active | 0 |

### –õ–∏—Å—Ç "Invoices" (–∫–æ–ª–æ–Ω–∏ –≤ —Ä–µ–¥ 1):
| id | date | supplier | invoiceNumber | total | description | createdBy | createdByName | objectId | objectName |
|----|------|----------|---------------|-------|-------------|-----------|---------------|----------|------------|
| | | | | | | | | | |

### –õ–∏—Å—Ç "Inventory" (–∫–æ–ª–æ–Ω–∏ –≤ —Ä–µ–¥ 1):
| id | name | category | status | assignedTo | assignedToName | objectId | objectName | photos |
|----|------|----------|--------|------------|----------------|----------|------------|--------|
| 1 | –ë–æ—Ä–º–∞—à–∏–Ω–∞ Bosch | –ï–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ | available | | | | | [] |
| 2 | –™–≥–ª–æ—à–ª–∞–π—Ñ Makita | –ï–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ | assigned | 2 | –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ | 1 | –û–±–µ–∫—Ç –°–æ—Ñ–∏—è | [] |

### –õ–∏—Å—Ç "Transactions" (–∫–æ–ª–æ–Ω–∏ –≤ —Ä–µ–¥ 1):
| id | type | userId | userName | amount | date | description | createdBy |
|----|------|--------|----------|--------|------|-------------|-----------|
| | | | | | | | |

### –õ–∏—Å—Ç "Config" (–∫–æ–ª–æ–Ω–∏ –≤ —Ä–µ–¥ 1):
| key | value |
|-----|-------|
| nextInvoiceId | 1 |
| nextInventoryId | 3 |
| nextTransactionId | 1 |
| nextObjectId | 3 |

4. **–í–ê–ñ–ù–û**: –ö–æ–ø–∏—Ä–∞–π—Ç–µ ID –Ω–∞ —Ç–∞–±–ª–∏—Ü–∞—Ç–∞ –æ—Ç URL –∞–¥—Ä–µ—Å–∞:
   - URL –∏–∑–≥–ª–µ–∂–¥–∞ —Ç–∞–∫–∞: `https://docs.google.com/spreadsheets/d/–í–ê–®–ï–¢–û_ID_–¢–£–ö/edit`
   - –ö–æ–ø–∏—Ä–∞–π—Ç–µ —Å–∞–º–æ —á–∞—Å—Ç—Ç–∞ `–í–ê–®–ï–¢–û_ID_–¢–£–ö`

---

## üìã –°—Ç—ä–ø–∫–∞ 2: –°–≤—ä—Ä–∂–µ—Ç–µ Google Sheets —Å n8n

1. –û—Ç–∏–¥–µ—Ç–µ –≤ n8n –Ω–∞ –≤–∞—à–∏—è —Å—ä—Ä–≤—ä—Ä
2. –û—Ç–∏–¥–µ—Ç–µ –≤ **Settings ‚Üí Credentials**
3. –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ **Add Credential**
4. –ò–∑–±–µ—Ä–µ—Ç–µ **Google Sheets OAuth2 API**
5. –°–ª–µ–¥–≤–∞–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏—Ç–µ –∑–∞ —Å–≤—ä—Ä–∑–≤–∞–Ω–µ —Å Google –∞–∫–∞—É–Ω—Ç–∞

---

## üìã –°—Ç—ä–ø–∫–∞ 3: –ò–º–ø–æ—Ä—Ç–∏—Ä–∞–π—Ç–µ workflows –≤ n8n

### –ú–µ—Ç–æ–¥ 1: –ò–º–ø–æ—Ä—Ç –æ—Ç —Ñ–∞–π–ª–æ–≤–µ
1. –í n8n –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ **Add workflow**
2. –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ **Import from file**
3. –ò–∑–±–µ—Ä–µ—Ç–µ JSON —Ñ–∞–π–ª –æ—Ç –ø–∞–ø–∫–∞—Ç–∞ `n8n-workflows/`
4. –ü–æ–≤—Ç–æ—Ä–µ—Ç–µ –∑–∞ –≤—Å–µ–∫–∏ —Ñ–∞–π–ª:
   - `01-auth-login.json`
   - `02-get-users.json`
   - `03-invoices-crud.json`
   - `04-inventory-crud.json`
   - `05-transactions-crud.json`
   - `06-objects-crud.json`

### –ú–µ—Ç–æ–¥ 2: Copy/Paste
1. –û—Ç–≤–æ—Ä–µ—Ç–µ JSON —Ñ–∞–π–ª–∞ –≤ —Ç–µ–∫—Å—Ç–æ–≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä
2. –ö–æ–ø–∏—Ä–∞–π—Ç–µ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ
3. –í n8n –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ **Add workflow**
4. –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ **Import from JSON** –∏ –ø–æ—Å—Ç–∞–≤–µ—Ç–µ

---

## üìã –°—Ç—ä–ø–∫–∞ 4: –ó–∞–º–µ–Ω–µ—Ç–µ placeholder-–∏—Ç–µ

–ó–∞ –í–°–ï–ö–ò –∏–º–ø–æ—Ä—Ç–∏—Ä–∞–Ω workflow:

1. –û—Ç–≤–æ—Ä–µ—Ç–µ workflow-–∞ –≤ n8n
2. –ù–∞–º–µ—Ä–µ—Ç–µ –≤—Å–µ–∫–∏ **Google Sheets node** (–∂—ä–ª—Ç —Ü–≤—è—Ç)
3. –ö–ª–∏–∫–Ω–µ—Ç–µ –Ω–∞ –Ω–µ–≥–æ
4. –í –ø–æ–ª–µ—Ç–æ **Document** –∑–∞–º–µ–Ω–µ—Ç–µ `YOUR_SPREADSHEET_ID` —Å –≤–∞—à–µ—Ç–æ ID
5. –í **Credentials** –∏–∑–±–µ—Ä–µ—Ç–µ –≤–∞—à–∏—è Google Sheets credential
6. –ü–æ–≤—Ç–æ—Ä–µ—Ç–µ –∑–∞ –≤—Å–∏—á–∫–∏ Google Sheets nodes

---

## üìã –°—Ç—ä–ø–∫–∞ 5: –ê–∫—Ç–∏–≤–∏—Ä–∞–π—Ç–µ workflows

1. –ó–∞ –≤—Å–µ–∫–∏ workflow –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ **Activate** (toggle –≤ –≥–æ—Ä–Ω–∏—è –¥–µ—Å–µ–Ω —ä–≥—ä–ª)
2. –ó–∞–ø–∏—à–µ—Ç–µ URL –∞–¥—Ä–µ—Å–∞ –Ω–∞ webhook-–∞ (–ø–æ–∫–∞–∑–≤–∞ —Å–µ –∫–æ–≥–∞—Ç–æ –∞–∫—Ç–∏–≤–∏—Ä–∞—Ç–µ)

---

## üìã –°—Ç—ä–ø–∫–∞ 6: –ó–∞–ø–∏—à–µ—Ç–µ webhook URLs

–°–ª–µ–¥ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ, URLs —â–µ –∏–∑–≥–ª–µ–∂–¥–∞—Ç –ø–æ–¥–æ–±–Ω–æ –Ω–∞:

```
BASE_URL = https://n8n.simeontsvetanovn8nworkflows.site/webhook/

Endpoints:
- POST /auth/login
- GET  /users
- GET  /invoices
- POST /invoices
- GET  /inventory
- POST /inventory
- POST /inventory/transfer
- GET  /transactions
- POST /transactions
- GET  /objects
- POST /objects
- PUT  /objects/update-expenses
```

---

## üìã –°—Ç—ä–ø–∫–∞ 7: –û–±–Ω–æ–≤–µ—Ç–µ frontend config

–û—Ç–≤–æ—Ä–µ—Ç–µ —Ñ–∞–π–ª–∞ `js/config.js` –∏ –∑–∞–º–µ–Ω–µ—Ç–µ:

```javascript
const CONFIG = {
    API_BASE_URL: 'https://n8n.simeontsvetanovn8nworkflows.site/webhook',
    // ... –æ—Å—Ç–∞–Ω–∞–ª–∞—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
};
```

---

## ‚úÖ –¢–µ—Å—Ç–≤–∞–Ω–µ

1. –û—Ç–≤–æ—Ä–µ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ
2. –í–ª–µ–∑—Ç–µ —Å:
   - **–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª**: georgi
   - **–ü–ò–ù**: 1234
3. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ –¥–∞–Ω–Ω–∏—Ç–µ —Å–µ –∑–∞—Ä–µ–∂–¥–∞—Ç –æ—Ç Google Sheets

---

## üîß –û—Ç—Å—Ç—Ä–∞–Ω—è–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏

### –ì—Ä–µ—à–∫–∞ "CORS"
- –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –≤—Å–µ–∫–∏ Webhook node –∏–º–∞ `Access-Control-Allow-Origin: *` –≤ –æ–ø—Ü–∏–∏—Ç–µ

### –ì—Ä–µ—à–∫–∞ "401 Unauthorized"
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ Google Sheets credentials –≤ n8n

### –î–∞–Ω–Ω–∏—Ç–µ –Ω–µ —Å–µ –∑–∞—Ä–µ–∂–¥–∞—Ç
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ Spreadsheet ID –µ –ø—Ä–∞–≤–∏–ª–Ω–æ
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ –ª–∏—Å—Ç–æ–≤–µ—Ç–µ —Å—ä–≤–ø–∞–¥–∞—Ç —Ç–æ—á–Ω–æ (Users, Objects, Invoices, etc.)

### Workflow –Ω–µ —Ä–∞–±–æ—Ç–∏
- –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –µ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω (–∑–µ–ª–µ–Ω–∏—è—Ç toggle)
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ Executions –∑–∞ –≥—Ä–µ—à–∫–∏
